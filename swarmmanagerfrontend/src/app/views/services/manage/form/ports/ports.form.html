<form [formGroup]="serviceForm">
  <app-form-card-component [expanded]="expanded" title="Ports" formArrayName="ports">
    <ng-template #formRowTemplate  let-group="control">
      <ng-container [formGroup]="group">
        <mat-form-field class="sm-form-field port-margin-right">
          <mat-select placeholder="Protocol" formControlName="protocol">
            <mat-option [value]="'tcp'">tcp</mat-option>
            <mat-option [value]="'udp'">udp</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="sm-form-field">
          <input matInput placeholder="Published" type="number" min="1" formControlName="published">
        </mat-form-field>
        <mat-form-field class="sm-form-field">
          <input matInput placeholder="Target" type="number" min="1" formControlName="target">
        </mat-form-field>
      </ng-container>
    </ng-template>
    <app-form-array-component class="sm-field ports"
        [editMode]="editMode" [isDetails]="isDetails" [form]="serviceForm"
        [disabled]="disabled" [controlName]="controlName" [addNew]="add"
        [formRowTemplate]="formRowTemplate">
    </app-form-array-component>
  </app-form-card-component>
</form>
